(window.webpackJsonp=window.webpackJsonp||[]).push([[26,5,14,15],{315:function(e,t,r){"use strict";r.r(t);r(29),r(36),r(86);var n={data:function(){return{disable:!1}},props:{title:String,description:String},methods:{handdleAccept:function(){var e=this;this.$emit("accept-clicked"),this.disable=!0,setTimeout((function(){e.disable=!1}),1e4)},handleReject:function(){this.$emit("reject-clicked")}}},o=r(53),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative z-20",attrs:{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"}},[t("div",{staticClass:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),e._v(" "),t("div",{staticClass:"fixed inset-0 z-10 w-screen overflow-y-auto"},[t("div",{staticClass:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},[t("div",{staticClass:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"},[t("div",{staticClass:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4"},[t("div",{staticClass:"sm:flex sm:items-start"},[t("div",{staticClass:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[t("svg",{staticClass:"h-6 w-6 text-red-600",attrs:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}})])]),e._v(" "),t("div",{staticClass:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left"},[t("h3",{staticClass:"text-base font-semibold leading-6 text-gray-900",attrs:{id:"modal-title"}},[e._v("\n                "+e._s(e.title)+"\n              ")]),e._v(" "),t("div",{staticClass:"mt-2"},[t("p",{staticClass:"text-sm text-gray-500"},[e._v("\n                  "+e._s(e.description)+"\n                ")])])])])]),e._v(" "),t("div",{staticClass:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6"},[t("button",{staticClass:"inline-flex w-full justify-center rounded-md bg-green-500 px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto",attrs:{disabled:e.disable,type:"button"},on:{click:e.handdleAccept}},[e._v("\n            Accept\n          ")]),e._v(" "),t("button",{staticClass:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",attrs:{type:"button"},on:{click:e.handleReject}},[e._v("\n            Cancel\n          ")])])])])])])}),[],!1,null,null,null);t.default=component.exports},316:function(e,t,r){"use strict";r.r(t);r(29),r(36);var n={props:{title:String,description:String}},o=r(53),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"rounded border-s-4 border-red-500 bg-red-50 p-4 fixed bottom-0 right-0 z-10 m-3",attrs:{role:"alert"}},[t("div",{staticClass:"flex items-center gap-2 text-red-800"},[t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"}})]),e._v(" "),t("strong",{staticClass:"block font-medium"},[e._v(" "+e._s(e.title)+" ")])]),e._v(" "),t("p",{staticClass:"mt-2 text-sm text-red-700"},[e._v("\n    "+e._s(e.description)+"\n  ")])])}),[],!1,null,null,null);t.default=component.exports},317:function(e,t,r){"use strict";r.r(t);r(29),r(36);var n={props:{title:String,description:String},methods:{handleClose:function(){this.$emit("close-clicked")}}},o=r(53),component=Object(o.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"rounded-xl border border-gray-100 bg-green-500 shadow-md p-4",attrs:{role:"alert"}},[t("div",{staticClass:"flex items-start gap-4"},[t("span",{staticClass:"text-white"},[t("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e._v(" "),t("div",{staticClass:"flex-1"},[t("strong",{staticClass:"block font-medium text-white"},[e._v(" "+e._s(e.title)+" ")]),e._v(" "),t("p",{staticClass:"mt-1 text-sm text-gray-100"},[e._v("\n        "+e._s(e.description)+"\n      ")])]),e._v(" "),t("button",{staticClass:"text-white transition",on:{click:e.handleClose}},[t("span",{staticClass:"sr-only"},[e._v("Dismiss popup")]),e._v(" "),t("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}})])])])])}),[],!1,null,null,null);t.default=component.exports},325:function(e,t,r){var content=r(341);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(115).default)("39cc99ac",content,!0,{sourceMap:!1})},340:function(e,t,r){"use strict";r(325)},341:function(e,t,r){var n=r(114)((function(i){return i[1]}));n.push([e.i,".navigation[data-v-d249f7c4]::-webkit-scrollbar{background-color:#a9a9a9;height:4px;width:4px}.navigation[data-v-d249f7c4]::-webkit-scrollbar-thumb{background-color:#000}",""]),n.locals={},e.exports=n},351:function(e,t,r){"use strict";r.r(t);r(29),r(36),r(54),r(47),r(15),r(49),r(31),r(37),r(50),r(26),r(25),r(40),r(27);var n=r(10);r(46),r(87),r(88),r(86),r(213);function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(d)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var c={data:function(){return{errorAlert:!1,suceed:!1,singleAlert:!1,email:localStorage.getItem("email"),title:"",description:"",price:"",selectedOption:"1",totalItem:1,searchQuery:"",suggestions:[],showSuggestions:!1,highlightIndex:-1,selectedValues:[],userBackpack:[],backpacks:[],balance:0}},computed:{filteredSuggestions:function(){var e=this;return this.suggestions.filter((function(t){return t.toLowerCase().includes(e.searchQuery.toLowerCase())}))}},methods:{showSucceed:function(){var e=this;this.suceed=!0,setTimeout((function(){e.$router.push("/")}),3e3)},showModal:function(){this.singleAlert=!this.singleAlert},getDiscount:function(){"5"===this.selectedOption&&(this.price=5*this.price/2)},updateTotalItem:function(){this.totalItem=parseInt(this.selectedOption),this.getDiscount()},getBalance:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$supabase.from("user_balance").select("balance").eq("email",e.email);case 3:r=t.sent,data=r.data,r.error,e.balance=data[0].balance,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error fetching user balance:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$supabase.from("users").select("email").ilike("name","%".concat(e.searchQuery,"%"));case 2:r=t.sent,data=r.data,r.error,n=data.map((function(e){return e.email})),e.suggestions=n;case 7:case"end":return t.stop()}}),t)})))()},onBuy:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,l,c,d,f,h,m,v,x,w,k,y,_,C,S,j,A,I,O,M,B,R,$,E,z,U,D;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.balance-e.price>-1)){t.next=83;break}return n=localStorage.getItem("email"),l=e.$route.params.id,t.next=5,e.$supabase.from("user_balance").select("balance").eq("email",n);case 5:if(c=t.sent,d=c.data,!(f=c.errorBalance)){t.next=11;break}return console.error("Error fetching user balance:",f),t.abrupt("return");case 11:if(!((h=(null===(r=d[0])||void 0===r?void 0:r.balance)||0)-e.price<0)){t.next=15;break}return console.error("Insufficient balance"),t.abrupt("return");case 15:return m=h-e.price,t.next=18,e.$supabase.from("user_balance").update({balance:m}).eq("email",n);case 18:if(v=t.sent,!(x=v.errorUpdateBalance)){t.next=23;break}return console.error("Error updating user balance:",x),t.abrupt("return");case 23:if("5"!==e.selectedOption){t.next=59;break}w=e.selectedValues,k=o(w),t.prev=26,k.s();case 28:if((y=k.n()).done){t.next=49;break}return C=y.value,t.next=32,e.$supabase.from("users").select("backpack").eq("email",C);case 32:if(S=t.sent,j=S.data,!(A=S.error)){t.next=38;break}return console.error("Error fetching backpack data for ".concat(C,":"),A),t.abrupt("continue",47);case 38:return(I=(null===(_=j[0])||void 0===_?void 0:_.backpack)||[]).push(l),t.next=42,e.$supabase.from("users").update({backpack:I}).eq("email",C);case 42:if(O=t.sent,!(M=O.errorUpdateData)){t.next=47;break}return console.error("Error updating backpack for ".concat(C,":"),M),t.abrupt("continue",47);case 47:t.next=28;break;case 49:t.next=54;break;case 51:t.prev=51,t.t0=t.catch(26),k.e(t.t0);case 54:return t.prev=54,k.f(),t.finish(54);case 57:t.next=76;break;case 59:return t.next=61,e.$supabase.from("users").select("backpack").eq("email",n);case 61:if(R=t.sent,$=R.data,!(E=R.errorUserData)){t.next=67;break}return console.error("Error fetching backpack data:",E),t.abrupt("return");case 67:return(z=(null===(B=$[0])||void 0===B?void 0:B.backpack)||[]).push(l),t.next=71,e.$supabase.from("users").update({backpack:z}).eq("email",n);case 71:if(U=t.sent,!(D=U.errorUpdateData)){t.next=76;break}return console.error("Error updating user backpack:",D),t.abrupt("return");case 76:return t.next=78,e.getBalance();case 78:e.singleAlert=!1,e.showSucceed(),console.log("Purchase successful"),t.next=87;break;case 83:e.errorAlert=!0,setTimeout((function(){e.errorAlert=!1}),3e3),e.singleAlert=!1,console.error("Insufficient balance");case 87:case"end":return t.stop()}}),t,null,[[26,51,54,57]])})))()},handleInput:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.searchQuery.length>=4)){t.next=5;break}return e.showSuggestions=!0,e.highlightIndex=-1,t.next=5,e.fetchUser();case 5:case"end":return t.stop()}}),t)})))()},handleClick:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchUser();case 2:e.showSuggestions=!0,e.highlightIndex=-1;case 4:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$supabase.from("premium-list").select("*").eq("url",e.$route.params.id);case 3:if(r=t.sent,data=r.data,!(n=r.error)){t.next=8;break}throw new Error(n.message);case 8:e.title=data[0].title,e.description=data[0].description,e.price=data[0].price,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error:",t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},selectSuggestion:function(e){this.searchQuery=e,this.showSuggestions=!1,this.selectedValues.push(e),this.searchQuery=""},removeTag:function(e){this.selectedValues.splice(e,1)},onBlur:function(){var e=this;setTimeout((function(){e.showSuggestions=!1}),200)},onArrowDown:function(){this.highlightIndex<this.filteredSuggestions.length-1&&this.highlightIndex++},onArrowUp:function(){this.highlightIndex>0&&this.highlightIndex--},onEnter:function(){-1!==this.highlightIndex?this.selectSuggestion(this.filteredSuggestions[this.highlightIndex]):1===this.filteredSuggestions.length&&this.selectSuggestion(this.filteredSuggestions[0])}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBalance();case 2:return t.next=4,e.getData();case 4:case"end":return t.stop()}}),t)})))()}},d=(r(340),r(53)),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",[e.singleAlert?t("the-alert",{attrs:{title:"Konfirmasi pembelian!",description:"Anda akan membeli paket tryout ini dengan harga : ".concat(e.price)},on:{"accept-clicked":e.onBuy,"reject-clicked":e.showModal}}):e._e(),e._v(" "),e.errorAlert?t("error-alert",{attrs:{title:"Error",description:"Saldo tidak cukup,silahkan topup terlebih dahulu!"}}):e._e(),e._v(" "),t("header",{staticClass:"flex justify-between border-b border-black h-20"},[t("h1",{staticClass:"text-2xl m-2 md:m-6 font-medium"},[e._v("saldo: Rp "+e._s(e.balance))]),e._v(" "),t("button",{staticClass:"w-8 h-8 m-6 hover:text-gray-700",on:{click:function(t){return e.$router.push("/")}}},[t("svg",{staticClass:"w-full h-full",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}})])])]),e._v(" "),t("section",{staticClass:"text-gray-700 body-font overflow-hidden bg-white"},[t("div",{staticClass:"container px-5 py-24 mx-auto"},[t("div",{staticClass:"lg:w-4/5 mx-auto flex flex-wrap"},[t("img",{staticClass:"lg:w-1/2 w-full object-cover object-center rounded border border-gray-200",attrs:{alt:"ecommerce",src:"https://azvyntaelgowdhbadqbs.supabase.co/storage/v1/object/public/catalogue/CPNS-2023.png"}}),e._v(" "),t("div",{staticClass:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0"},[t("h1",{staticClass:"text-gray-900 text-3xl title-font font-medium mb-1"},[e._v("\n            "+e._s(e.title)+"\n          ")]),e._v(" "),t("p",{staticClass:"leading-relaxed mt-4"},[e._v("\n            "+e._s(e.description)+"\n          ")]),e._v(" "),t("div",{staticClass:"flex flex-col mt-6 items-start pb-5 border-b-2 border-gray-200 mb-5"},[t("div",{staticClass:"flex items-center"},[t("span",{staticClass:"mr-3"},[e._v("Beli untuk")]),e._v(" "),t("div",{staticClass:"relative"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedOption,expression:"selectedOption"}],staticClass:"rounded border appearance-none border-gray-400 py-2 focus:outline-none focus:border-red-500 text-base pl-3 pr-10",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedOption=t.target.multiple?r:r[0]},e.updateTotalItem]}},[t("option",{attrs:{value:"1"}},[e._v("1 User")]),e._v(" "),t("option",{attrs:{value:"5"}},[e._v("5 User")])]),e._v(" "),t("span",{staticClass:"absolute right-0 top-0 h-full w-10 text-center text-gray-600 pointer-events-none flex items-center justify-center"},[t("svg",{staticClass:"w-4 h-4",attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M6 9l6 6 6-6"}})])])])]),e._v(" "),"5"===e.selectedOption?t("div",{staticClass:"mt-2 max-w-sm"},[t("p",[e._v("Masukan email user")]),e._v(" "),t("div",{staticClass:"flex"},[t("div",{staticClass:"relative"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],staticClass:"w-full border rounded-r-none border-gray-300 rounded px-4 py-2",attrs:{disabled:5===e.selectedValues.length,type:"text",placeholder:"Masukan min 4 Huruf..."},domProps:{value:e.searchQuery},on:{input:[function(t){t.target.composing||(e.searchQuery=t.target.value)},e.handleInput],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.onArrowDown.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.onArrowUp.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.onEnter.apply(null,arguments))}],blur:e.onBlur}}),e._v(" "),e.showSuggestions?t("ul",{staticClass:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded border border-gray-300"},e._l(e.filteredSuggestions,(function(r,n){return t("li",{key:n,staticClass:"px-4 py-2 cursor-pointer",class:{"bg-blue-200":e.highlightIndex===n},on:{click:function(t){return e.selectSuggestion(r)},mouseover:function(t){e.highlightIndex=n},mouseleave:function(t){e.highlightIndex=-1}}},[e._v("\n                      "+e._s(r)+"\n                    ")])})),0):e._e()])]),e._v(" "),e.selectedValues.length>0?t("div",{staticClass:"mt-4 pb-4 flex overflow-x-auto navigation px-4"},e._l(e.selectedValues,(function(r,n){return t("span",{key:n,staticClass:"flex w-fit bg-gray-200 text-gray-800 rounded-full px-3 py-1 mr-2"},[e._v("\n                  "+e._s(r)+"\n                  "),t("button",{staticClass:"ml-2 focus:outline-none",on:{click:function(t){return e.removeTag(n)}}},[t("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z","clip-rule":"evenodd"}})])])])})),0):e._e()]):e._e()]),e._v(" "),t("div",{staticClass:"flex"},[t("span",{staticClass:"title-font font-medium text-2xl text-gray-900"},[e._v("Rp "+e._s(e.price))]),e._v(" "),t("button",{staticClass:"flex ml-auto text-white bg-red-500 border-0 py-2 px-6 focus:outline-none hover:bg-red-600 rounded",on:{click:e.showModal}},[e._v("\n              Beli\n            ")])])])])])]),e._v(" "),e.suceed?t("succeed-alert",{staticClass:"fixed bottom-3 left-3 right-3 z-20",attrs:{title:"Sukses",description:"berhasil membeli tryout,silahkan cek page tryout"}}):e._e()],1)}),[],!1,null,"d249f7c4",null);t.default=component.exports;installComponents(component,{TheAlert:r(315).default,ErrorAlert:r(316).default,SucceedAlert:r(317).default})}}]);